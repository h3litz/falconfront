(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"68jZ":function(e,t,a){e.exports={tableList:"antd-pro-pages-asset-origin-domain-index-tableList",tableListOperator:"antd-pro-pages-asset-origin-domain-index-tableListOperator",tableListForm:"antd-pro-pages-asset-origin-domain-index-tableListForm",submitButtons:"antd-pro-pages-asset-origin-domain-index-submitButtons"}},OClx:function(e,t,a){"use strict";a.r(t);var n,l,i,r,s=a("U1Sa"),o=a.n(s),c=(a("N95i"),a("PGq9")),d=(a("vkTA"),a("3gFK")),m=(a("FTfq"),a("GZSP")),u=(a("poft"),a("WFYK")),p=(a("14R3"),a("0y9A")),h=(a("pGly"),a("LNHK")),f=(a("hA+H"),a("4PMe")),b=(a("mcVV"),a("1DQy")),D=a("smUt"),y=a.n(D),g=(a("/OsC"),a("C9m5")),E=(a("/eir"),a("OMgk")),k=a("Pjwa"),w=a.n(k),v=a("2cji"),C=a.n(v),V=a("sp3j"),S=a.n(V),O=a("vZkh"),F=a.n(O),M=a("+KCP"),x=a.n(M),B=(a("PLIw"),a("oGlb")),R=(a("iBTD"),a("+TXG")),U=(a("f+YK"),a("xrSm")),L=(a("sHWw"),a("Aywy")),I=a("ee5G"),T=a.n(I),j=a("G/Cz"),N=a("LneV"),P=a("YIvd"),q=a("CkN6"),G=a("zHco"),K=a("ALo4"),A=a("68jZ"),z=a.n(A),H=L["a"].Item,Z=U["a"].Option,Y=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},J=["error","success","default"],W=["\u51bb\u7ed3","\u5728\u7ebf","\u4e0b\u7ebf"],Q=L["a"].create()(function(e){var t=e.current,a=e.form,n=e.createUpdateVisible,l=e.handleCreateUpdateModalVisible,i=e.handleSubmit,r=function(){a.validateFields(function(e,n){e||(a.resetFields(),i(t,n))})},s=function(){a.resetFields(),l()};return T.a.createElement(B["a"],{destroyOnClose:!0,title:"\u4e00\u7ea7\u57df\u540d".concat(t.name?"\u7f16\u8f91":"\u6dfb\u52a0"),className:z.a.standardListForm,visible:n,onOk:r,onCancel:s},T.a.createElement(H,{label:"\u4e00\u7ea7\u57df\u540d"},a.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e00\u7ea7\u57df\u540d"}],initialValue:t.name})(T.a.createElement(R["a"],{placeholder:"\u8bf7\u8f93\u5165",style:{width:"100%"}}))),T.a.createElement(H,{label:"\u516c\u53f8"},a.getFieldDecorator("company",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6240\u5c5e\u516c\u53f8"}],initialValue:t.company})(T.a.createElement(R["a"],{placeholder:"\u8bf7\u8f93\u5165",style:{width:"100%"}}))),T.a.createElement(H,{label:"\u72b6\u6001"},a.getFieldDecorator("status",{rules:[{required:!0,message:"\u72b6\u6001"}],initialValue:t.status})(T.a.createElement(U["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},T.a.createElement(Z,{value:"0"},"\u51bb\u7ed3"),T.a.createElement(Z,{value:"1"},"\u4e0a\u7ebf"),T.a.createElement(Z,{value:"2"},"\u4e0b\u7ebf")))))}),X=(n=Object(N["connect"])(function(e){var t=e.asset,a=e.loading;return{asset:t,loading:a.models.asset}}),l=L["a"].create(),n(i=l((r=function(e){function t(){var e,a;w()(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return a=S()(this,(e=F()(t)).call.apply(e,[this].concat(l))),a.state={createUpdateVisible:!1,deleteVisible:!1,deleteDone:!1,bulkDeleteVisible:!1,bulkDeleteDone:!1,selectedRows:[],formValues:{},current:{}},a.columns=[{title:"\u4e00\u7ea7\u57df\u540d",width:50,dataIndex:"name"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return T.a.createElement(E["a"],{status:J[e],text:W[e]})}},{title:"\u516c\u53f8",dataIndex:"company"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"modified",render:function(e){return T.a.createElement("span",null,e||"\u672a\u8fdb\u884c\u4fee\u6539")}},{title:"\u64cd\u4f5c",render:function(e,t){return T.a.createElement(I["Fragment"],null,T.a.createElement(P["a"],{to:"originDomain/"+t.id.toString()},"\u8be6\u60c5"),T.a.createElement(g["a"],{type:"vertical"}),T.a.createElement("a",{onClick:function(){return a.showEditModal(t)}},"\u4fee\u6539"),T.a.createElement(g["a"],{type:"vertical"}),T.a.createElement("a",{onClick:function(){return a.showDeleteModal(t)}},"\u5220\u9664"))}}],a.showModal=function(){a.setState({createUpdateVisible:!0})},a.showEditModal=function(e){a.setState({createUpdateVisible:!0,current:e})},a.handleCreateUpdateModalVisible=function(e){a.setState({createUpdateVisible:!!e,current:""})},a.handleSubmit=function(e,t){var n=a.props.dispatch,l=e.id,i=void 0===l?"":l;i?(n({type:"asset/submitOriginDomain",payload:y()({method:"originDomain",id:i},t)}),b["a"].success("\u6dfb\u52a0\u6210\u529f"),a.handleCreateUpdateModalVisible()):(n({type:"asset/submitOriginDomain",payload:y()({method:"originDomain"},t)}),b["a"].success("\u4fee\u6539\u6210\u529f"),a.handleCreateUpdateModalVisible()),n({type:"asset/fetchOriginDomain",payload:{method:"originDomain"}})},a.handleSearch=function(e){e.preventDefault();var t=a.props,n=t.dispatch,l=t.form,i=l.getFieldsValue();a.setState({formValues:{company:i.company,status:i.status}}),n({type:"asset/fetchOriginDomain",payload:y()({method:"originDomain"},i)})},a.handleSearchFormReset=function(){var e=a.props.form;e.resetFields(),a.setState({formValues:{}})},a.showDeleteModal=function(e){a.setState({deleteVisible:!0,current:e})},a.handleDeleteCancel=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({deleteVisible:!1})},a.handleDeleteDone=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({deleteDone:!0,deleteVisible:!1})},a.handleDeleteItem=function(){var e=a.props.dispatch,t=a.state.current.id;a.setState({deleteDone:!0}),e({type:"asset/submitOriginDomain",payload:{id:t,method:"originDomain"}}),e({type:"asset/fetchOriginDomain",payload:{method:"originDomain"}})},a.handleStandardTableChange=function(e,t,n){var l=a.props.dispatch,i=a.state.formValues,r=Object.keys(t).reduce(function(e,a){var n=y()({},e);return n[a]=Y(t[a]),n},{}),s=y()({currentPage:e.current,pageSize:e.pageSize,method:"originDomain"},i,r);n.field&&(s.sorter="".concat(n.field,"_").concat(n.order)),l({type:"asset/fetchOriginDomain",payload:s})},a.showBuldDeleteVisible=function(){a.setState({bulkDeleteVisible:!0})},a.handleBulkDelete=function(){var e=a.props.dispatch,t=a.state.selectedRows;0!==t.length&&(a.setState({selectedRows:[],bulkDeleteDone:!0}),e({type:"asset/bulkOperateOriginDomain",payload:{ids:t.map(function(e){return e.id}),method:"originDomain"}}),b["a"].success("\u64cd\u4f5c\u6210\u529f"),e({type:"asset/fetchOriginDomain",payload:{method:"originDomain"}}))},a.handleBulkDeleteDone=function(){a.setState({bulkDeleteDone:!0,bulkDeleteVisible:!1})},a.handelBulkDeleteCancel=function(){a.setState({bulkDeleteVisible:!1})},a.handleMenuClick=function(e){var t,n=a.props.dispatch,l=a.state.selectedRows;if(0!==l.length){switch(e.key){case"offline":t=0;break;case"online":t=1;break;default:return}n({type:"asset/bulkOperateOriginDomain",payload:{ids:l.map(function(e){return e.id}),status:t,method:"originDomain"}}),a.setState({selectedRows:[]}),b["a"].success("\u64cd\u4f5c\u6210\u529f"),n({type:"asset/fetchOriginDomain",payload:{method:"originDomain"}})}},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a}return x()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"asset/fetchOriginDomain",payload:{method:"originDomain"}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.asset.originDomain,n=t.loading,l=t.form.getFieldDecorator,i=this.state,r=i.selectedRows,s=i.createUpdateVisible,b=i.deleteVisible,D=i.bulkDeleteVisible,y=i.bulkDeleteDone,g=i.current,E=i.deleteDone,k=void 0===E?{}:E,w={handleSubmit:this.handleSubmit,handleCreateUpdateModalVisible:this.handleCreateUpdateModalVisible},v=T.a.createElement(f["b"],{onClick:this.handleMenuClick,selectedKeys:[]},T.a.createElement(f["b"].Item,{key:"offline"},"\u6279\u91cf\u4e0b\u7ebf"),T.a.createElement(f["b"].Item,{key:"online"},"\u6279\u91cf\u4e0a\u7ebf")),C=k?{footer:null,onCancel:this.handleDeleteDone}:{okText:"\u5220\u9664",onOk:this.handleDeleteItem,onCancel:this.handleDeleteCancel},V=y?{footer:null,onCancel:this.handelBulkDeleteDone}:{okText:"\u5220\u9664",onOk:this.handleBulkDelete,onCancel:this.handelBulkDeleteCancel},S=function(){return k?T.a.createElement(K["a"],{type:"success",title:"\u5220\u9664\u6210\u529f",description:"\u5220\u9664\u57df\u540d\u6210\u529f",actions:T.a.createElement(h["a"],{type:"primary",onClick:e.handleDeleteDone},"\u77e5\u9053\u4e86"),className:z.a.formResult}):T.a.createElement("p",null,"\u786e\u5b9a\u5220\u9664\u8be5\u57df\u540d\uff1f")},O=function(){return y?T.a.createElement(K["a"],{type:"success",title:"\u5220\u9664\u6210\u529f",description:"\u5220\u9664\u4e00\u7ea7\u57df\u540d\u6210\u529f",actions:T.a.createElement(h["a"],{type:"primary",onClick:e.handleBulkDeleteDone},"\u77e5\u9053\u4e86"),className:z.a.formResult}):T.a.createElement("p",null,"\u786e\u5b9a\u6279\u91cf\u5220\u9664\u4e00\u7ea7\u57df\u540d\uff1f")};return T.a.createElement(G["a"],{title:"\u4e00\u7ea7\u57df\u540d"},T.a.createElement(c["a"],{bordered:!1},T.a.createElement("div",{className:z.a.tableListForm},T.a.createElement(L["a"],{onSubmit:this.handleSearch,layout:"inline"},T.a.createElement(u["a"],{gutter:{md:6,lg:24,xl:48}},T.a.createElement(p["a"],{md:6,sm:24},T.a.createElement(H,{label:"\u4e00\u7ea7\u57df\u540d"},l("search",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5b50\u57df\u540d"}]})(T.a.createElement(R["a"],{placeholder:"\u8bf7\u8f93\u5165",style:{width:"50%"}})))),T.a.createElement(p["a"],{md:6,sm:24},T.a.createElement(H,{label:"\u516c\u53f8"},l("company",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5b50\u57df\u540d"}]})(T.a.createElement(R["a"],{placeholder:"\u8bf7\u8f93\u5165",style:{width:"50%"}})))),T.a.createElement(p["a"],{md:6,sm:24},T.a.createElement(H,{label:"\u72b6\u6001"},l("status")(T.a.createElement(U["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"50%"}},T.a.createElement(Z,{value:"0"},"\u51bb\u7ed3"),T.a.createElement(Z,{value:"1"},"\u4e0a\u7ebf"),T.a.createElement(Z,{value:"2"},"\u4e0b\u7ebf"))))),T.a.createElement(p["a"],{md:6,sm:24},T.a.createElement("span",{className:z.a.submitButtons},T.a.createElement(h["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),T.a.createElement(h["a"],{style:{marginLeft:8},onClick:this.handleSearchFormReset},"\u91cd\u7f6e"))))),T.a.createElement("div",{className:z.a.tableListOperator},T.a.createElement(h["a"],{icon:"plus",type:"primary",onClick:function(){return e.showModal()},ref:function(t){e.addBtn=Object(j["findDOMNode"])(t)}},"\u65b0\u5efa"),r.length>0&&T.a.createElement("span",null,T.a.createElement(h["a"],{onClick:this.showBuldDeleteVisible},"\u6279\u91cf\u5220\u9664"),T.a.createElement(d["a"],{overlay:v},T.a.createElement(h["a"],null,"\u66f4\u591a\u64cd\u4f5c ",T.a.createElement(m["a"],{type:"down"}))))),T.a.createElement(q["a"],{selectedRows:r,loading:n,data:a,columns:this.columns,rowKey:function(e){return e.id},onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),T.a.createElement(Q,o()({current:g,createUpdateVisible:s},w)),T.a.createElement(B["a"],o()({title:"\u5220\u9664\u4e00\u7ea7\u57df\u540d",destroyOnClose:!0,visible:b},C),S()),T.a.createElement(B["a"],o()({title:"\u6279\u91cf\u5220\u9664\u4e00\u7ea7\u57df",destroyOnClose:!0,visible:D},V),O()))}}]),t}(I["PureComponent"]),i=r))||i)||i);t["default"]=X}}]);